import{r as d,b as p,o as a,d as m,w as g,e as u,f as l,u as h,g as y,t as f,n as v,p as x,q as k,j as S,i as $,s as w,c as n,v as b,x as B,F as C,l as V,m as D,a as N}from"./index-f19e1d78.js";const T={alt:"",class:"main__search_list-item-img"},j={class:"main__search_list-item-title"},q={__name:"SearchContent",props:{item:Object},setup(t){return(e,r)=>{const i=d("router-link"),c=p("lazy");return a(),m(i,{to:`${t.item.media_type}/${t.item.id}`,class:"main__search_list-item"},{default:g(()=>[u(l("img",T,null,512),[[c,h(y)+t.item.backdrop_path]]),l("h2",j,f(t.item.name||t.item.title),1)]),_:1},8,["to"])}}},z=v({id:"search",state:()=>({url:"https://api.themoviedb.org/3/",result:null}),actions:{async getSearch(t){try{let e=await x.get(`${this.url}/search/multi?api_key=${k}&language=ru-RU&query=${t}`);this.result=e.data.results}catch(e){console.error("Произошла ошибка при поиске данных",e)}}},getters:{}}),F={class:"main__search container"},R={key:0,class:"main__search_list"},U={__name:"Search",setup(t){let e=S("");const r=z(),i=$(()=>r.result);let c=null;return w(e,o=>{clearTimeout(c),c=setTimeout(()=>{r.getSearch(o)},500)}),(o,_)=>(a(),n("div",F,[u(l("input",{type:"text",class:"main__search_input",placeholder:"Найти фильм, сериал ...","onUpdate:modelValue":_[0]||(_[0]=s=>B(e)?e.value=s:e=s)},null,512),[[b,h(e)]]),i.value?(a(),n("div",R,[(a(!0),n(C,null,V(i.value,s=>(a(),m(q,{key:s.id,item:s},null,8,["item"]))),128))])):D("",!0)]))}},A={class:"main"},I={__name:"SearchPage",setup(t){return(e,r)=>(a(),n("main",A,[N(U)]))}};export{I as default};
